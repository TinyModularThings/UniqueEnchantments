buildscript {
    repositories {
        jcenter()
        mavenCentral();
        maven { url = "https://files.minecraftforge.net/maven" }

    }
    dependencies {
        classpath 'net.minecraftforge.gradle:ForgeGradle:2.3-SNAPSHOT'
    }
}
apply plugin: 'net.minecraftforge.gradle.forge'

version = "1.0"
group = "uniquee"
archivesBaseName = "Unique Enchantments"

sourceCompatibility = targetCompatibility = '1.8'
compileJava {
    sourceCompatibility = targetCompatibility = '1.8'
}

minecraft {
    version = "1.12.2-14.23.5.2847"
    runDir = "run"
    mappings = "snapshot_20171003"
}

repositories {
    maven {
        url = "https://www.cursemaven.com"
    }
}

dependencies {
//	compile "curse.maven:firstaid-276837:2790027"
}

processResources {
    inputs.property "version", project.version
    inputs.property "mcversion", project.minecraft.version
}

jar {
}

task baseJar(type: Jar, dependsOn: reobfJar) {
  baseName = 'Unique Enchantments Base'
  version = minecraft_version+"-"+unique_base_version
  from(zipTree(jar.archivePath)) {
    include '**/META_INF/**/*'
    include '**/uniquebase/**/*'
    include 'pack.mcmeta'
  }
  from(zipTree(jar.archivePath)) {
    include 'mcmod.info'
    expand 'version':unique_base_version, 'mcversion':project.minecraft.version, 'modid':"uniquebase", 'name':"Unique Enchantments Base", 'description':"Unique Enchantments Base Mod"
  }
  includeEmptyDirs = false
}

task mainJar(type: Jar, dependsOn: reobfJar) {
  baseName = 'Unique Enchantments'
  version = minecraft_version+"-"+uniquee_version
  from(zipTree(jar.archivePath)) {
    include '**/META_INF/**/*'
    include '**/uniquee/**/*'
    include '**/assets/uniquee/**/*'
    include 'pack.mcmeta'
  }
  from(zipTree(jar.archivePath)) {
    include 'mcmod.info'
    expand 'version':uniquee_version, 'mcversion':project.minecraft.version, 'modid':"uniquee", 'name':"Unique Enchantments", 'description':"A Set of Unique Enchantments"
  }
  includeEmptyDirs = false
}

task utilsJar(type: Jar, dependsOn: reobfJar) {
  baseName = 'Unique Enchantments Utils'
  version = minecraft_version+"-"+unique_utils_version
  from(zipTree(jar.archivePath)) {
    include '**/META_INF/**/*'
    include '**/uniqueeutils/**/*'
    include '**/assets/uniqueeutil/**/*'
    include 'pack.mcmeta'
  }
  from(zipTree(jar.archivePath)) {
    include 'mcmod.info'
        expand 'version':unique_utils_version, 'mcversion':project.minecraft.version, 'modid':"uniqueeutils", 'name':"Unique Enchantments Utilities", 'description':"A Set of Unique Utility Enchantments"
  }
  includeEmptyDirs = false
}

task battleJar(type: Jar, dependsOn: reobfJar) {
  baseName = 'Unique Enchantments Battle'
  version = minecraft_version+"-"+unique_battle_version
  from(zipTree(jar.archivePath)) {
    include '**/META_INF/**/*'
    include '**/uniqueebattle/**/*'
    include '**/assets/uniqueebattle/**/*'
    include 'pack.mcmeta'
  }
  from(zipTree(jar.archivePath)) {
    include 'mcmod.info'
    expand 'version':unique_battle_version, 'mcversion':project.minecraft.version, 'modid':"uniqueebattle", 'name':"Unique Enchantments Battle", 'description':"A Set of Unique Battle Enchantments"
  }
  includeEmptyDirs = false
}

artifacts {
    archives baseJar
    archives mainJar
    archives utilsJar
    archives battleJar
}